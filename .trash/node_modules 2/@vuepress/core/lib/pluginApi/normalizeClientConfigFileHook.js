"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.normalizeClientConfigFileHook = void 0;
const shared_1 = require("@vuepress/shared");
const utils_1 = require("@vuepress/utils");
/**
 * Normalize hook for client config file
 */
const normalizeClientConfigFileHook = (hook) => async (app) => {
    // resolve clientConfigFile result
    const clientConfigFileResult = (0, shared_1.isFunction)(hook) ? await hook(app) : hook;
    // filter files that do not exist
    const isExisted = await utils_1.fs.pathExists(clientConfigFileResult);
    if (!isExisted) {
        throw utils_1.logger.createError(`client config file does not exist: ${clientConfigFileResult}`);
    }
    return clientConfigFileResult;
};
exports.normalizeClientConfigFileHook = normalizeClientConfigFileHook;
