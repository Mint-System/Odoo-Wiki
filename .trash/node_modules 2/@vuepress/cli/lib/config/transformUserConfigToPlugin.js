"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformUserConfigToPlugin = void 0;
const utils_1 = require("@vuepress/utils");
/**
 * Transform user config to a vuepress plugin
 */
const transformUserConfigToPlugin = (userConfig, source, cwd = process.cwd()) => {
    const userConfigPlugin = {
        name: 'user-config',
        ...userConfig,
    };
    // if `clientConfigFile` is not set explicitly,
    // try to load conventional files
    if (userConfigPlugin.clientConfigFile === undefined) {
        userConfigPlugin.clientConfigFile = [
            utils_1.path.resolve(cwd, 'vuepress.client.ts'),
            utils_1.path.resolve(cwd, 'vuepress.client.js'),
            utils_1.path.resolve(cwd, 'vuepress.client.mjs'),
            utils_1.path.resolve(source, '.vuepress/client.ts'),
            utils_1.path.resolve(source, '.vuepress/client.js'),
            utils_1.path.resolve(source, '.vuepress/client.mjs'),
        ].find((item) => utils_1.fs.pathExistsSync(item));
    }
    return userConfigPlugin;
};
exports.transformUserConfigToPlugin = transformUserConfigToPlugin;
